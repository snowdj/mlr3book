<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2.6 Benchmarking | mlr3 manual</title>
  <meta name="description" content="2.6 Benchmarking | mlr3 manual " />
  <meta name="generator" content="bookdown 0.16 and GitBook 2.6.7" />

  <meta property="og:title" content="2.6 Benchmarking | mlr3 manual" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://mlr3book.mlr-org.com" />
  
  
  <meta name="github-repo" content="mlr-org/mlr3book" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2.6 Benchmarking | mlr3 manual" />
  
  
  

<meta name="author" content="The mlr-org Team" />


<meta name="date" content="2019-12-19" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="resampling.html"/>
<link rel="next" href="binary.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<link href="libs/vis-4.20.1/vis.css" rel="stylesheet" />
<script src="libs/vis-4.20.1/vis.min.js"></script>
<script src="libs/visNetwork-binding-2.0.9/visNetwork.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">mlr3 Manual <img src='https://raw.githubusercontent.com/mlr-org/mlr3/master/man/figures/logo.png' width=30 /></a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Quickstart</a></li>
<li class="chapter" data-level="1" data-path="introduction-and-overview.html"><a href="introduction-and-overview.html"><i class="fa fa-check"></i><b>1</b> Introduction and Overview</a></li>
<li class="chapter" data-level="2" data-path="basics.html"><a href="basics.html"><i class="fa fa-check"></i><b>2</b> Basics</a><ul>
<li class="chapter" data-level="2.1" data-path="r6.html"><a href="r6.html"><i class="fa fa-check"></i><b>2.1</b> Quick R6 Intro for Beginners</a></li>
<li class="chapter" data-level="2.2" data-path="tasks.html"><a href="tasks.html"><i class="fa fa-check"></i><b>2.2</b> Tasks</a><ul>
<li class="chapter" data-level="2.2.1" data-path="tasks.html"><a href="tasks.html#tasks-types"><i class="fa fa-check"></i><b>2.2.1</b> Task Types</a></li>
<li class="chapter" data-level="2.2.2" data-path="tasks.html"><a href="tasks.html#tasks-creation"><i class="fa fa-check"></i><b>2.2.2</b> Task Creation</a></li>
<li class="chapter" data-level="2.2.3" data-path="tasks.html"><a href="tasks.html#tasks-predefined"><i class="fa fa-check"></i><b>2.2.3</b> Predefined tasks</a></li>
<li class="chapter" data-level="2.2.4" data-path="tasks.html"><a href="tasks.html#tasks-api"><i class="fa fa-check"></i><b>2.2.4</b> Task API</a><ul>
<li class="chapter" data-level="2.2.4.1" data-path="tasks.html"><a href="tasks.html#tasks-retrieving"><i class="fa fa-check"></i><b>2.2.4.1</b> Retrieving Data</a></li>
<li class="chapter" data-level="2.2.4.2" data-path="tasks.html"><a href="tasks.html#tasks-roles"><i class="fa fa-check"></i><b>2.2.4.2</b> Roles (Rows and Columns)</a></li>
<li class="chapter" data-level="2.2.4.3" data-path="tasks.html"><a href="tasks.html#tasks-mutators"><i class="fa fa-check"></i><b>2.2.4.3</b> Task Mutators</a></li>
</ul></li>
<li class="chapter" data-level="2.2.5" data-path="tasks.html"><a href="tasks.html#autoplot-task"><i class="fa fa-check"></i><b>2.2.5</b> Plotting Tasks</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="learners.html"><a href="learners.html"><i class="fa fa-check"></i><b>2.3</b> Learners</a><ul>
<li class="chapter" data-level="2.3.1" data-path="learners.html"><a href="learners.html#learners-predefined"><i class="fa fa-check"></i><b>2.3.1</b> Predefined Learners</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="train-predict.html"><a href="train-predict.html"><i class="fa fa-check"></i><b>2.4</b> Train and Predict</a><ul>
<li class="chapter" data-level="2.4.1" data-path="train-predict.html"><a href="train-predict.html#train-predict-objects"><i class="fa fa-check"></i><b>2.4.1</b> Creating Task and Learner Objects</a></li>
<li class="chapter" data-level="2.4.2" data-path="train-predict.html"><a href="train-predict.html#split-data"><i class="fa fa-check"></i><b>2.4.2</b> Setting up the train/test splits of the data</a></li>
<li class="chapter" data-level="2.4.3" data-path="train-predict.html"><a href="train-predict.html#training"><i class="fa fa-check"></i><b>2.4.3</b> Training the learner</a></li>
<li class="chapter" data-level="2.4.4" data-path="train-predict.html"><a href="train-predict.html#predicting"><i class="fa fa-check"></i><b>2.4.4</b> Predicting</a></li>
<li class="chapter" data-level="2.4.5" data-path="train-predict.html"><a href="train-predict.html#predict-type"><i class="fa fa-check"></i><b>2.4.5</b> Changing the Predict Type</a></li>
<li class="chapter" data-level="2.4.6" data-path="train-predict.html"><a href="train-predict.html#autoplot-prediction"><i class="fa fa-check"></i><b>2.4.6</b> Plotting Predictions</a></li>
<li class="chapter" data-level="2.4.7" data-path="train-predict.html"><a href="train-predict.html#measure"><i class="fa fa-check"></i><b>2.4.7</b> Performance assessment</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="resampling.html"><a href="resampling.html"><i class="fa fa-check"></i><b>2.5</b> Resampling</a><ul>
<li class="chapter" data-level="2.5.1" data-path="resampling.html"><a href="resampling.html#resamp-settings"><i class="fa fa-check"></i><b>2.5.1</b> Settings</a></li>
<li class="chapter" data-level="2.5.2" data-path="resampling.html"><a href="resampling.html#resampling-inst"><i class="fa fa-check"></i><b>2.5.2</b> Instantiation</a></li>
<li class="chapter" data-level="2.5.3" data-path="resampling.html"><a href="resampling.html#resampling-exec"><i class="fa fa-check"></i><b>2.5.3</b> Execution</a></li>
<li class="chapter" data-level="2.5.4" data-path="resampling.html"><a href="resampling.html#resamp-custom"><i class="fa fa-check"></i><b>2.5.4</b> Custom resampling</a></li>
<li class="chapter" data-level="2.5.5" data-path="resampling.html"><a href="resampling.html#autoplot-resampleresult"><i class="fa fa-check"></i><b>2.5.5</b> Plotting Resample Results</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="benchmarking.html"><a href="benchmarking.html"><i class="fa fa-check"></i><b>2.6</b> Benchmarking</a><ul>
<li class="chapter" data-level="2.6.1" data-path="benchmarking.html"><a href="benchmarking.html#bm-design"><i class="fa fa-check"></i><b>2.6.1</b> Design Creation</a></li>
<li class="chapter" data-level="2.6.2" data-path="benchmarking.html"><a href="benchmarking.html#bm-exec"><i class="fa fa-check"></i><b>2.6.2</b> Execution and Aggregation of Results</a></li>
<li class="chapter" data-level="2.6.3" data-path="benchmarking.html"><a href="benchmarking.html#autoplot-benchmarkresult"><i class="fa fa-check"></i><b>2.6.3</b> Plotting Benchmark Results</a></li>
<li class="chapter" data-level="2.6.4" data-path="benchmarking.html"><a href="benchmarking.html#bm-resamp"><i class="fa fa-check"></i><b>2.6.4</b> Extracting ResampleResults</a></li>
<li class="chapter" data-level="2.6.5" data-path="benchmarking.html"><a href="benchmarking.html#converting-and-merging-resampleresults"><i class="fa fa-check"></i><b>2.6.5</b> Converting and Merging ResampleResults</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="binary.html"><a href="binary.html"><i class="fa fa-check"></i><b>2.7</b> Binary classification</a><ul>
<li class="chapter" data-level="2.7.1" data-path="binary.html"><a href="binary.html#binary-roc"><i class="fa fa-check"></i><b>2.7.1</b> ROC Curve and Thresholds</a></li>
<li class="chapter" data-level="2.7.2" data-path="binary.html"><a href="binary.html#threshold-tuning"><i class="fa fa-check"></i><b>2.7.2</b> Threshold Tuning</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="model-optim.html"><a href="model-optim.html"><i class="fa fa-check"></i><b>3</b> Model Optimization</a><ul>
<li class="chapter" data-level="3.1" data-path="tuning.html"><a href="tuning.html"><i class="fa fa-check"></i><b>3.1</b> Hyperparameter Tuning</a><ul>
<li class="chapter" data-level="3.1.1" data-path="tuning.html"><a href="tuning.html#tuning-optimization"><i class="fa fa-check"></i><b>3.1.1</b> The <code>TuningInstance</code> Class</a></li>
<li class="chapter" data-level="3.1.2" data-path="tuning.html"><a href="tuning.html#the-tuner-class"><i class="fa fa-check"></i><b>3.1.2</b> The <code>Tuner</code> Class</a></li>
<li class="chapter" data-level="3.1.3" data-path="tuning.html"><a href="tuning.html#tuning-triggering"><i class="fa fa-check"></i><b>3.1.3</b> Triggering the Tuning</a></li>
<li class="chapter" data-level="3.1.4" data-path="tuning.html"><a href="tuning.html#autotuner"><i class="fa fa-check"></i><b>3.1.4</b> Automating the Tuning</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="fs.html"><a href="fs.html"><i class="fa fa-check"></i><b>3.2</b> Feature Selection / Filtering</a><ul>
<li class="chapter" data-level="3.2.1" data-path="fs.html"><a href="fs.html#fs-filter"><i class="fa fa-check"></i><b>3.2.1</b> Filters</a></li>
<li class="chapter" data-level="3.2.2" data-path="fs.html"><a href="fs.html#fs-calc"><i class="fa fa-check"></i><b>3.2.2</b> Calculating filter values</a></li>
<li class="chapter" data-level="3.2.3" data-path="fs.html"><a href="fs.html#fs-var-imp-filters"><i class="fa fa-check"></i><b>3.2.3</b> Variable Importance Filters</a></li>
<li class="chapter" data-level="3.2.4" data-path="fs.html"><a href="fs.html#fs-ensemble"><i class="fa fa-check"></i><b>3.2.4</b> Ensemble Methods</a></li>
<li class="chapter" data-level="3.2.5" data-path="fs.html"><a href="fs.html#fs-wrapper"><i class="fa fa-check"></i><b>3.2.5</b> Wrapper Methods</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="nested-resampling.html"><a href="nested-resampling.html"><i class="fa fa-check"></i><b>3.3</b> Nested Resampling</a><ul>
<li class="chapter" data-level="3.3.1" data-path="nested-resampling.html"><a href="nested-resampling.html#nested-resamp-exec"><i class="fa fa-check"></i><b>3.3.1</b> Execution</a></li>
<li class="chapter" data-level="3.3.2" data-path="nested-resampling.html"><a href="nested-resampling.html#nested-resamp-eval"><i class="fa fa-check"></i><b>3.3.2</b> Evaluation</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="pipelines.html"><a href="pipelines.html"><i class="fa fa-check"></i><b>4</b> Pipelines</a><ul>
<li class="chapter" data-level="4.1" data-path="the-building-blocks-pipeops.html"><a href="the-building-blocks-pipeops.html"><i class="fa fa-check"></i><b>4.1</b> The Building Blocks: PipeOps</a></li>
<li class="chapter" data-level="4.2" data-path="pipe-operator.html"><a href="pipe-operator.html"><i class="fa fa-check"></i><b>4.2</b> The Pipeline Operator: <code>%&gt;&gt;%</code></a></li>
<li class="chapter" data-level="4.3" data-path="pipe-nodes-edges-graphs.html"><a href="pipe-nodes-edges-graphs.html"><i class="fa fa-check"></i><b>4.3</b> Nodes, Edges and Graphs</a></li>
<li class="chapter" data-level="4.4" data-path="pipe-modeling.html"><a href="pipe-modeling.html"><i class="fa fa-check"></i><b>4.4</b> Modeling</a><ul>
<li class="chapter" data-level="4.4.1" data-path="pipe-modeling.html"><a href="pipe-modeling.html#pipe-hyperpars"><i class="fa fa-check"></i><b>4.4.1</b> Setting Hyperparameters</a></li>
<li class="chapter" data-level="4.4.2" data-path="pipe-modeling.html"><a href="pipe-modeling.html#pipe-tuning"><i class="fa fa-check"></i><b>4.4.2</b> Tuning</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="pipe-nonlinear.html"><a href="pipe-nonlinear.html"><i class="fa fa-check"></i><b>4.5</b> Non-Linear Graphs</a><ul>
<li class="chapter" data-level="4.5.1" data-path="pipe-nonlinear.html"><a href="pipe-nonlinear.html#pipe-model-ensembles-branching-copying"><i class="fa fa-check"></i><b>4.5.1</b> Branching &amp; Copying</a></li>
<li class="chapter" data-level="4.5.2" data-path="pipe-nonlinear.html"><a href="pipe-nonlinear.html#pipe-model-ensembles"><i class="fa fa-check"></i><b>4.5.2</b> Model Ensembles</a><ul>
<li class="chapter" data-level="4.5.2.1" data-path="pipe-nonlinear.html"><a href="pipe-nonlinear.html#pipe-model-ensembles-bagging"><i class="fa fa-check"></i><b>4.5.2.1</b> Bagging</a></li>
<li class="chapter" data-level="4.5.2.2" data-path="pipe-nonlinear.html"><a href="pipe-nonlinear.html#pipe-model-ensembles-stacking"><i class="fa fa-check"></i><b>4.5.2.2</b> Stacking</a></li>
<li class="chapter" data-level="4.5.2.3" data-path="pipe-nonlinear.html"><a href="pipe-nonlinear.html#multilevel-stacking"><i class="fa fa-check"></i><b>4.5.2.3</b> Multilevel Stacking</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="pipe-special-ops.html"><a href="pipe-special-ops.html"><i class="fa fa-check"></i><b>4.6</b> Special Operators</a><ul>
<li class="chapter" data-level="4.6.1" data-path="pipe-special-ops.html"><a href="pipe-special-ops.html#imputation-pipeopimpute"><i class="fa fa-check"></i><b>4.6.1</b> Imputation: <span><code>PipeOpImpute</code></span></a></li>
<li class="chapter" data-level="4.6.2" data-path="pipe-special-ops.html"><a href="pipe-special-ops.html#feature-engineering-pipeopmutate"><i class="fa fa-check"></i><b>4.6.2</b> Feature Engineering: <span><code>PipeOpMutate</code></span></a></li>
<li class="chapter" data-level="4.6.3" data-path="pipe-special-ops.html"><a href="pipe-special-ops.html#training-on-data-subsets-pipeopchunk"><i class="fa fa-check"></i><b>4.6.3</b> Training on data subsets: <span><code>PipeOpChunk</code></span></a></li>
<li class="chapter" data-level="4.6.4" data-path="pipe-special-ops.html"><a href="pipe-special-ops.html#feature-selection-pipeopfilter-pipeopselect"><i class="fa fa-check"></i><b>4.6.4</b> Feature Selection: <span><code>PipeOpFilter</code></span> , <span><code>PipeOpSelect</code></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="technical.html"><a href="technical.html"><i class="fa fa-check"></i><b>5</b> Technical</a><ul>
<li class="chapter" data-level="5.1" data-path="parallelization.html"><a href="parallelization.html"><i class="fa fa-check"></i><b>5.1</b> Parallelization</a></li>
<li class="chapter" data-level="5.2" data-path="error-handling.html"><a href="error-handling.html"><i class="fa fa-check"></i><b>5.2</b> Error Handling</a><ul>
<li class="chapter" data-level="5.2.1" data-path="error-handling.html"><a href="error-handling.html#encapsulation"><i class="fa fa-check"></i><b>5.2.1</b> Encapsulation</a></li>
<li class="chapter" data-level="5.2.2" data-path="error-handling.html"><a href="error-handling.html#fallback-learners"><i class="fa fa-check"></i><b>5.2.2</b> Fallback learners</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="backends.html"><a href="backends.html"><i class="fa fa-check"></i><b>5.3</b> Database Backends</a><ul>
<li class="chapter" data-level="5.3.1" data-path="backends.html"><a href="backends.html#use-case-nyc-flights"><i class="fa fa-check"></i><b>5.3.1</b> Use Case: NYC Flights</a></li>
<li class="chapter" data-level="5.3.2" data-path="backends.html"><a href="backends.html#preprocessing-with-dplyr"><i class="fa fa-check"></i><b>5.3.2</b> Preprocessing with <code>dplyr</code></a></li>
<li class="chapter" data-level="5.3.3" data-path="backends.html"><a href="backends.html#databackenddplyr"><i class="fa fa-check"></i><b>5.3.3</b> DataBackendDplyr</a></li>
<li class="chapter" data-level="5.3.4" data-path="backends.html"><a href="backends.html#model-fitting"><i class="fa fa-check"></i><b>5.3.4</b> Model fitting</a></li>
<li class="chapter" data-level="5.3.5" data-path="backends.html"><a href="backends.html#cleanup"><i class="fa fa-check"></i><b>5.3.5</b> Cleanup</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="paradox.html"><a href="paradox.html"><i class="fa fa-check"></i><b>5.4</b> Parameters (using <code>paradox</code>)</a><ul>
<li class="chapter" data-level="5.4.1" data-path="paradox.html"><a href="paradox.html#reference-based-objects"><i class="fa fa-check"></i><b>5.4.1</b> Reference Based Objects</a></li>
<li class="chapter" data-level="5.4.2" data-path="paradox.html"><a href="paradox.html#defining-a-parameter-space"><i class="fa fa-check"></i><b>5.4.2</b> Defining a Parameter Space</a><ul>
<li class="chapter" data-level="5.4.2.1" data-path="paradox.html"><a href="paradox.html#single-parameters"><i class="fa fa-check"></i><b>5.4.2.1</b> Single Parameters</a></li>
<li class="chapter" data-level="5.4.2.2" data-path="paradox.html"><a href="paradox.html#parameter-sets"><i class="fa fa-check"></i><b>5.4.2.2</b> Parameter Sets</a></li>
<li class="chapter" data-level="5.4.2.3" data-path="paradox.html"><a href="paradox.html#vector-parameters"><i class="fa fa-check"></i><b>5.4.2.3</b> Vector Parameters</a></li>
</ul></li>
<li class="chapter" data-level="5.4.3" data-path="paradox.html"><a href="paradox.html#parameter-sampling"><i class="fa fa-check"></i><b>5.4.3</b> Parameter Sampling</a><ul>
<li class="chapter" data-level="5.4.3.1" data-path="paradox.html"><a href="paradox.html#parameter-designs"><i class="fa fa-check"></i><b>5.4.3.1</b> Parameter Designs</a></li>
<li class="chapter" data-level="5.4.3.2" data-path="paradox.html"><a href="paradox.html#grid-design"><i class="fa fa-check"></i><b>5.4.3.2</b> Grid Design</a></li>
<li class="chapter" data-level="5.4.3.3" data-path="paradox.html"><a href="paradox.html#random-sampling"><i class="fa fa-check"></i><b>5.4.3.3</b> Random Sampling</a></li>
<li class="chapter" data-level="5.4.3.4" data-path="paradox.html"><a href="paradox.html#generalized-sampling-the-sampler-class"><i class="fa fa-check"></i><b>5.4.3.4</b> Generalized Sampling: The <code>Sampler</code> Class</a></li>
</ul></li>
<li class="chapter" data-level="5.4.4" data-path="paradox.html"><a href="paradox.html#parameter-transformation"><i class="fa fa-check"></i><b>5.4.4</b> Parameter Transformation</a><ul>
<li class="chapter" data-level="5.4.4.1" data-path="paradox.html"><a href="paradox.html#transformation-between-types"><i class="fa fa-check"></i><b>5.4.4.1</b> Transformation between Types</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="logging.html"><a href="logging.html"><i class="fa fa-check"></i><b>5.5</b> Logging and Verbosity</a><ul>
<li class="chapter" data-level="5.5.1" data-path="logging.html"><a href="logging.html#available-logging-levels"><i class="fa fa-check"></i><b>5.5.1</b> Available logging levels</a></li>
<li class="chapter" data-level="5.5.2" data-path="logging.html"><a href="logging.html#global-setting"><i class="fa fa-check"></i><b>5.5.2</b> Global Setting</a></li>
<li class="chapter" data-level="5.5.3" data-path="logging.html"><a href="logging.html#changing-mlr3-logging-levels"><i class="fa fa-check"></i><b>5.5.3</b> Changing mlr3 logging levels</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="transition.html"><a href="transition.html"><i class="fa fa-check"></i><b>5.6</b> mlr -&gt; mlr3 Transition Guide</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="extending.html"><a href="extending.html"><i class="fa fa-check"></i><b>6</b> Extending</a><ul>
<li class="chapter" data-level="6.1" data-path="ext-learner.html"><a href="ext-learner.html"><i class="fa fa-check"></i><b>6.1</b> Extending with Learners</a><ul>
<li class="chapter" data-level="6.1.1" data-path="ext-learner.html"><a href="ext-learner.html#learner-meta-information"><i class="fa fa-check"></i><b>6.1.1</b> Meta-information</a></li>
<li class="chapter" data-level="6.1.2" data-path="ext-learner.html"><a href="ext-learner.html#learner-train"><i class="fa fa-check"></i><b>6.1.2</b> Train function</a></li>
<li class="chapter" data-level="6.1.3" data-path="ext-learner.html"><a href="ext-learner.html#learner-predict"><i class="fa fa-check"></i><b>6.1.3</b> Predict function</a></li>
<li class="chapter" data-level="6.1.4" data-path="ext-learner.html"><a href="ext-learner.html#final-learner"><i class="fa fa-check"></i><b>6.1.4</b> Final learner</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="extending-mlr3pipelines.html"><a href="extending-mlr3pipelines.html"><i class="fa fa-check"></i><b>6.2</b> Extending with mlr3pipelines</a><ul>
<li class="chapter" data-level="6.2.1" data-path="extending-mlr3pipelines.html"><a href="extending-mlr3pipelines.html#ext-pipeopcopy"><i class="fa fa-check"></i><b>6.2.1</b> General Case Example: <code>PipeOpCopy</code></a><ul>
<li class="chapter" data-level="6.2.1.1" data-path="extending-mlr3pipelines.html"><a href="extending-mlr3pipelines.html#first-steps-inheriting-from-pipeop"><i class="fa fa-check"></i><b>6.2.1.1</b> First Steps: Inheriting from <code>PipeOp</code></a></li>
<li class="chapter" data-level="6.2.1.2" data-path="extending-mlr3pipelines.html"><a href="extending-mlr3pipelines.html#channel-definitions"><i class="fa fa-check"></i><b>6.2.1.2</b> Channel Definitions</a></li>
<li class="chapter" data-level="6.2.1.3" data-path="extending-mlr3pipelines.html"><a href="extending-mlr3pipelines.html#train-and-predict"><i class="fa fa-check"></i><b>6.2.1.3</b> Train and Predict</a></li>
<li class="chapter" data-level="6.2.1.4" data-path="extending-mlr3pipelines.html"><a href="extending-mlr3pipelines.html#putting-it-together"><i class="fa fa-check"></i><b>6.2.1.4</b> Putting it Together</a></li>
</ul></li>
<li class="chapter" data-level="6.2.2" data-path="extending-mlr3pipelines.html"><a href="extending-mlr3pipelines.html#ext-pipe-preproc"><i class="fa fa-check"></i><b>6.2.2</b> Special Case: Preprocessing</a><ul>
<li class="chapter" data-level="6.2.2.1" data-path="extending-mlr3pipelines.html"><a href="extending-mlr3pipelines.html#example-pipeopdropna"><i class="fa fa-check"></i><b>6.2.2.1</b> Example: <code>PipeOpDropNA</code></a></li>
<li class="chapter" data-level="6.2.2.2" data-path="extending-mlr3pipelines.html"><a href="extending-mlr3pipelines.html#example-pipeopscalealways"><i class="fa fa-check"></i><b>6.2.2.2</b> Example: <code>PipeOpScaleAlways</code></a></li>
</ul></li>
<li class="chapter" data-level="6.2.3" data-path="extending-mlr3pipelines.html"><a href="extending-mlr3pipelines.html#special-case-preprocessing-with-simple-train"><i class="fa fa-check"></i><b>6.2.3</b> Special Case: Preprocessing with Simple Train</a><ul>
<li class="chapter" data-level="6.2.3.1" data-path="extending-mlr3pipelines.html"><a href="extending-mlr3pipelines.html#example-pipeopdropconst"><i class="fa fa-check"></i><b>6.2.3.1</b> Example: <code>PipeOpDropConst</code></a></li>
<li class="chapter" data-level="6.2.3.2" data-path="extending-mlr3pipelines.html"><a href="extending-mlr3pipelines.html#example-pipeopscalealwayssimple"><i class="fa fa-check"></i><b>6.2.3.2</b> Example: <code>PipeOpScaleAlwaysSimple</code></a></li>
</ul></li>
<li class="chapter" data-level="6.2.4" data-path="extending-mlr3pipelines.html"><a href="extending-mlr3pipelines.html#ext-pipe-hyperpars"><i class="fa fa-check"></i><b>6.2.4</b> Hyperparameters</a><ul>
<li class="chapter" data-level="6.2.4.1" data-path="extending-mlr3pipelines.html"><a href="extending-mlr3pipelines.html#hyperparameter-example-pipeopscale"><i class="fa fa-check"></i><b>6.2.4.1</b> Hyperparameter Example: <code>PipeOpScale</code></a></li>
</ul></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="special-tasks.html"><a href="special-tasks.html"><i class="fa fa-check"></i><b>7</b> Special Tasks</a><ul>
<li class="chapter" data-level="7.1" data-path="survival.html"><a href="survival.html"><i class="fa fa-check"></i><b>7.1</b> Survival Analysis</a></li>
<li class="chapter" data-level="7.2" data-path="spatial.html"><a href="spatial.html"><i class="fa fa-check"></i><b>7.2</b> Spatial Analysis</a></li>
<li class="chapter" data-level="7.3" data-path="ordinal.html"><a href="ordinal.html"><i class="fa fa-check"></i><b>7.3</b> Ordinal Analysis</a></li>
<li class="chapter" data-level="7.4" data-path="functional.html"><a href="functional.html"><i class="fa fa-check"></i><b>7.4</b> Functional Analysis</a><ul>
<li class="chapter" data-level="7.4.1" data-path="functional.html"><a href="functional.html#how-to-model-functional-data"><i class="fa fa-check"></i><b>7.4.1</b> How to model functional data?</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="multilabel.html"><a href="multilabel.html"><i class="fa fa-check"></i><b>7.5</b> Multilabel Classification</a></li>
<li class="chapter" data-level="7.6" data-path="cost-sens.html"><a href="cost-sens.html"><i class="fa fa-check"></i><b>7.6</b> Cost-Sensitive Classification</a><ul>
<li class="chapter" data-level="7.6.1" data-path="cost-sens.html"><a href="cost-sens.html#a-first-model"><i class="fa fa-check"></i><b>7.6.1</b> A First Model</a></li>
<li class="chapter" data-level="7.6.2" data-path="cost-sens.html"><a href="cost-sens.html#cost-sensitive-measure"><i class="fa fa-check"></i><b>7.6.2</b> Cost-sensitive Measure</a></li>
<li class="chapter" data-level="7.6.3" data-path="cost-sens.html"><a href="cost-sens.html#thresholding"><i class="fa fa-check"></i><b>7.6.3</b> Thresholding</a></li>
<li class="chapter" data-level="7.6.4" data-path="cost-sens.html"><a href="cost-sens.html#threshold-tuning-1"><i class="fa fa-check"></i><b>7.6.4</b> Threshold Tuning</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="interpretation.html"><a href="interpretation.html"><i class="fa fa-check"></i><b>8</b> Model Interpretation</a><ul>
<li class="chapter" data-level="8.1" data-path="iml.html"><a href="iml.html"><i class="fa fa-check"></i><b>8.1</b> IML</a></li>
<li class="chapter" data-level="8.2" data-path="dalex.html"><a href="dalex.html"><i class="fa fa-check"></i><b>8.2</b> Dalex</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="use-cases.html"><a href="use-cases.html"><i class="fa fa-check"></i><b>9</b> Use Cases</a><ul>
<li class="chapter" data-level="9.1" data-path="use-case-regr-houses.html"><a href="use-case-regr-houses.html"><i class="fa fa-check"></i><b>9.1</b> House Price Prediction in King County</a><ul>
<li class="chapter" data-level="9.1.1" data-path="use-case-regr-houses.html"><a href="use-case-regr-houses.html#exploratory-data-analysis"><i class="fa fa-check"></i><b>9.1.1</b> Exploratory Data Analysis</a><ul>
<li class="chapter" data-level="9.1.1.1" data-path="use-case-regr-houses.html"><a href="use-case-regr-houses.html#distribution-of-the-price"><i class="fa fa-check"></i><b>9.1.1.1</b> Distribution of the price:</a></li>
<li class="chapter" data-level="9.1.1.2" data-path="use-case-regr-houses.html"><a href="use-case-regr-houses.html#association-between-variables"><i class="fa fa-check"></i><b>9.1.1.2</b> Association between variables</a></li>
</ul></li>
<li class="chapter" data-level="9.1.2" data-path="use-case-regr-houses.html"><a href="use-case-regr-houses.html#splitting-into-train-and-test-data"><i class="fa fa-check"></i><b>9.1.2</b> Splitting into train and test data</a></li>
<li class="chapter" data-level="9.1.3" data-path="use-case-regr-houses.html"><a href="use-case-regr-houses.html#a-first-model-decision-tree"><i class="fa fa-check"></i><b>9.1.3</b> A first model: Decision Tree</a></li>
<li class="chapter" data-level="9.1.4" data-path="use-case-regr-houses.html"><a href="use-case-regr-houses.html#a-first-baseline-decision-tree"><i class="fa fa-check"></i><b>9.1.4</b> A first baseline: Decision Tree</a></li>
<li class="chapter" data-level="9.1.5" data-path="use-case-regr-houses.html"><a href="use-case-regr-houses.html#many-trees-random-forest"><i class="fa fa-check"></i><b>9.1.5</b> Many Trees: Random Forest</a></li>
<li class="chapter" data-level="9.1.6" data-path="use-case-regr-houses.html"><a href="use-case-regr-houses.html#a-better-baseline-autotuner"><i class="fa fa-check"></i><b>9.1.6</b> A better baseline: <code>AutoTuner</code></a></li>
<li class="chapter" data-level="9.1.7" data-path="use-case-regr-houses.html"><a href="use-case-regr-houses.html#engineering-features-mutating-zip-codes"><i class="fa fa-check"></i><b>9.1.7</b> Engineering Features: Mutating ZIP-Codes</a></li>
<li class="chapter" data-level="9.1.8" data-path="use-case-regr-houses.html"><a href="use-case-regr-houses.html#obtaining-a-sparser-model"><i class="fa fa-check"></i><b>9.1.8</b> Obtaining a sparser model</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="appendix.html"><a href="appendix.html"><i class="fa fa-check"></i><b>10</b> Appendix</a><ul>
<li class="chapter" data-level="10.1" data-path="list-learners.html"><a href="list-learners.html"><i class="fa fa-check"></i><b>10.1</b> Integrated Learners</a></li>
<li class="chapter" data-level="10.2" data-path="list-measures.html"><a href="list-measures.html"><i class="fa fa-check"></i><b>10.2</b> Integrated Performance Measures</a></li>
<li class="chapter" data-level="10.3" data-path="list-filters.html"><a href="list-filters.html"><i class="fa fa-check"></i><b>10.3</b> Integrated Filter Methods</a><ul>
<li class="chapter" data-level="10.3.1" data-path="list-filters.html"><a href="list-filters.html#fs-filter-list"><i class="fa fa-check"></i><b>10.3.1</b> Standalone filter methods</a></li>
<li class="chapter" data-level="10.3.2" data-path="list-filters.html"><a href="list-filters.html#fs-filter-embedded-list"><i class="fa fa-check"></i><b>10.3.2</b> Algorithms With Embedded Filter Methods</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="./">Made with <i class="fas fa-heart"></i> for open-source </a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">mlr3 manual <img src='https://raw.githubusercontent.com/mlr-org/mlr3/master/man/figures/logo.png' width=50 /></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="benchmarking" class="section level2">
<h2><span class="header-section-number">2.6</span> Benchmarking</h2>
<p>Comparing the performance of different learners on multiple tasks and/or different resampling schemes is a recurrent task.
This operation is usually referred to as “benchmarking” in the field of machine-learning.
The <a href="https://mlr3.mlr-org.com">mlr3</a> package offers the <a href="https://mlr3.mlr-org.com/reference/benchmark.html"><code>benchmark()</code></a> function for convenience.</p>
<div id="bm-design" class="section level3">
<h3><span class="header-section-number">2.6.1</span> Design Creation</h3>
<p>In <em>mlr3</em> we require you to supply a “design” of your benchmark experiment.
By “design” we essentially mean the matrix of settings you want to execute.
A “design” consists of <a href="https://mlr3.mlr-org.com/reference/Task.html"><code>Task</code></a>, <a href="https://mlr3.mlr-org.com/reference/Learner.html"><code>Learner</code></a> and <a href="https://mlr3.mlr-org.com/reference/Resampling.html"><code>Resampling</code></a>.</p>
<p>Here, we call <a href="https://mlr3.mlr-org.com/reference/benchmark.html"><code>benchmark()</code></a> to perform a single holdout split on a single task and two learners.
We use the <a href="https://mlr3.mlr-org.com/reference/benchmark_grid.html"><code>benchmark_grid()</code></a> function to create an exhaustive design and properly instantiate the resampling:</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="benchmarking.html#cb65-1"></a><span class="kw">library</span>(data.table)</span>
<span id="cb65-2"><a href="benchmarking.html#cb65-2"></a>design =<span class="st"> </span><span class="kw">benchmark_grid</span>(</span>
<span id="cb65-3"><a href="benchmarking.html#cb65-3"></a>  <span class="dt">tasks =</span> <span class="kw">tsk</span>(<span class="st">&quot;iris&quot;</span>),</span>
<span id="cb65-4"><a href="benchmarking.html#cb65-4"></a>  <span class="dt">learners =</span> <span class="kw">list</span>(<span class="kw">lrn</span>(<span class="st">&quot;classif.rpart&quot;</span>), <span class="kw">lrn</span>(<span class="st">&quot;classif.featureless&quot;</span>)),</span>
<span id="cb65-5"><a href="benchmarking.html#cb65-5"></a>  <span class="dt">resamplings =</span> <span class="kw">rsmp</span>(<span class="st">&quot;holdout&quot;</span>)</span>
<span id="cb65-6"><a href="benchmarking.html#cb65-6"></a>)</span>
<span id="cb65-7"><a href="benchmarking.html#cb65-7"></a><span class="kw">print</span>(design)</span>
<span id="cb65-8"><a href="benchmarking.html#cb65-8"></a><span class="co">##             task                     learner          resampling</span></span>
<span id="cb65-9"><a href="benchmarking.html#cb65-9"></a><span class="co">## 1: &lt;TaskClassif&gt;       &lt;LearnerClassifRpart&gt; &lt;ResamplingHoldout&gt;</span></span>
<span id="cb65-10"><a href="benchmarking.html#cb65-10"></a><span class="co">## 2: &lt;TaskClassif&gt; &lt;LearnerClassifFeatureless&gt; &lt;ResamplingHoldout&gt;</span></span>
<span id="cb65-11"><a href="benchmarking.html#cb65-11"></a>bmr =<span class="st"> </span><span class="kw">benchmark</span>(design)</span></code></pre></div>
<p>Note that the holdout splits have been automatically instantiated for each row of the design.
As a result, the <code>rpart</code> learner used a different training set than the <code>featureless</code> learner.
However, for comparison of learners you usually want the learners to see the same splits into train and test sets.
To overcome this issue, the resampling strategy needs to be <a href="resampling.html#resampling-inst"><strong>manually instantiated</strong></a> before creating the design.</p>
<p>The interface of <a href="https://mlr3.mlr-org.com/reference/benchmark.html"><code>benchmark()</code></a> allows for full flexibility.
Irrespective, the creation of such design tables can be tedious.
Therefore, <a href="https://mlr3.mlr-org.com">mlr3</a> provides a convenience function to quickly generate design tables and instantiate resampling strategies in an exhaustive grid fashion: <a href="https://mlr3.mlr-org.com/reference/benchmark_grid.html"><code>benchmark_grid()</code></a>.</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="benchmarking.html#cb66-1"></a><span class="co"># get some example tasks</span></span>
<span id="cb66-2"><a href="benchmarking.html#cb66-2"></a>tasks =<span class="st"> </span><span class="kw">lapply</span>(<span class="kw">c</span>(<span class="st">&quot;german_credit&quot;</span>, <span class="st">&quot;sonar&quot;</span>), tsk)</span>
<span id="cb66-3"><a href="benchmarking.html#cb66-3"></a></span>
<span id="cb66-4"><a href="benchmarking.html#cb66-4"></a><span class="co"># get some learners and for all learners ...</span></span>
<span id="cb66-5"><a href="benchmarking.html#cb66-5"></a><span class="co"># * predict probabilities</span></span>
<span id="cb66-6"><a href="benchmarking.html#cb66-6"></a><span class="co"># * predict also on the training set</span></span>
<span id="cb66-7"><a href="benchmarking.html#cb66-7"></a><span class="kw">library</span>(mlr3learners)</span>
<span id="cb66-8"><a href="benchmarking.html#cb66-8"></a>learners =<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;classif.featureless&quot;</span>, <span class="st">&quot;classif.rpart&quot;</span>, <span class="st">&quot;classif.ranger&quot;</span>, <span class="st">&quot;classif.kknn&quot;</span>)</span>
<span id="cb66-9"><a href="benchmarking.html#cb66-9"></a>learners =<span class="st"> </span><span class="kw">lapply</span>(learners, lrn,</span>
<span id="cb66-10"><a href="benchmarking.html#cb66-10"></a>  <span class="dt">predict_type =</span> <span class="st">&quot;prob&quot;</span>, <span class="dt">predict_sets =</span> <span class="kw">c</span>(<span class="st">&quot;train&quot;</span>, <span class="st">&quot;test&quot;</span>))</span>
<span id="cb66-11"><a href="benchmarking.html#cb66-11"></a></span>
<span id="cb66-12"><a href="benchmarking.html#cb66-12"></a><span class="co"># compare via 3-fold cross validation</span></span>
<span id="cb66-13"><a href="benchmarking.html#cb66-13"></a>resamplings =<span class="st"> </span><span class="kw">rsmp</span>(<span class="st">&quot;cv&quot;</span>, <span class="dt">folds =</span> <span class="dv">3</span>)</span>
<span id="cb66-14"><a href="benchmarking.html#cb66-14"></a></span>
<span id="cb66-15"><a href="benchmarking.html#cb66-15"></a><span class="co"># create a BenchmarkDesign object</span></span>
<span id="cb66-16"><a href="benchmarking.html#cb66-16"></a>design =<span class="st"> </span><span class="kw">benchmark_grid</span>(tasks, learners, resamplings)</span>
<span id="cb66-17"><a href="benchmarking.html#cb66-17"></a><span class="kw">print</span>(design)</span>
<span id="cb66-18"><a href="benchmarking.html#cb66-18"></a><span class="co">##             task                     learner     resampling</span></span>
<span id="cb66-19"><a href="benchmarking.html#cb66-19"></a><span class="co">## 1: &lt;TaskClassif&gt; &lt;LearnerClassifFeatureless&gt; &lt;ResamplingCV&gt;</span></span>
<span id="cb66-20"><a href="benchmarking.html#cb66-20"></a><span class="co">## 2: &lt;TaskClassif&gt;       &lt;LearnerClassifRpart&gt; &lt;ResamplingCV&gt;</span></span>
<span id="cb66-21"><a href="benchmarking.html#cb66-21"></a><span class="co">## 3: &lt;TaskClassif&gt;      &lt;LearnerClassifRanger&gt; &lt;ResamplingCV&gt;</span></span>
<span id="cb66-22"><a href="benchmarking.html#cb66-22"></a><span class="co">## 4: &lt;TaskClassif&gt;        &lt;LearnerClassifKKNN&gt; &lt;ResamplingCV&gt;</span></span>
<span id="cb66-23"><a href="benchmarking.html#cb66-23"></a><span class="co">## 5: &lt;TaskClassif&gt; &lt;LearnerClassifFeatureless&gt; &lt;ResamplingCV&gt;</span></span>
<span id="cb66-24"><a href="benchmarking.html#cb66-24"></a><span class="co">## 6: &lt;TaskClassif&gt;       &lt;LearnerClassifRpart&gt; &lt;ResamplingCV&gt;</span></span>
<span id="cb66-25"><a href="benchmarking.html#cb66-25"></a><span class="co">## 7: &lt;TaskClassif&gt;      &lt;LearnerClassifRanger&gt; &lt;ResamplingCV&gt;</span></span>
<span id="cb66-26"><a href="benchmarking.html#cb66-26"></a><span class="co">## 8: &lt;TaskClassif&gt;        &lt;LearnerClassifKKNN&gt; &lt;ResamplingCV&gt;</span></span></code></pre></div>
</div>
<div id="bm-exec" class="section level3">
<h3><span class="header-section-number">2.6.2</span> Execution and Aggregation of Results</h3>
<p>After the <a href="benchmarking.html#bm-design">benchmark design</a> is ready, we can directly call <a href="https://mlr3.mlr-org.com/reference/benchmark.html"><code>benchmark()</code></a>:</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="benchmarking.html#cb67-1"></a><span class="co"># execute the benchmark</span></span>
<span id="cb67-2"><a href="benchmarking.html#cb67-2"></a>bmr =<span class="st"> </span><span class="kw">benchmark</span>(design)</span></code></pre></div>
<p>Note that we did not instantiate the resampling instance.
<a href="https://mlr3.mlr-org.com/reference/benchmark_grid.html"><code>benchmark_grid()</code></a> took care of it for us:
Each resampling strategy is instantiated for each task during the construction of the exhaustive grid.</p>
<p>After the benchmark, one can calculate and aggregate the performance with <code>.$aggregate()</code>:</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="benchmarking.html#cb68-1"></a><span class="co"># measures:</span></span>
<span id="cb68-2"><a href="benchmarking.html#cb68-2"></a><span class="co"># * area under the curve (auc) on training</span></span>
<span id="cb68-3"><a href="benchmarking.html#cb68-3"></a><span class="co"># * area under the curve (auc) on test</span></span>
<span id="cb68-4"><a href="benchmarking.html#cb68-4"></a>measures =<span class="st"> </span><span class="kw">list</span>(</span>
<span id="cb68-5"><a href="benchmarking.html#cb68-5"></a>  <span class="kw">msr</span>(<span class="st">&quot;classif.auc&quot;</span>, <span class="dt">id =</span> <span class="st">&quot;auc_train&quot;</span>, <span class="dt">predict_sets =</span> <span class="st">&quot;train&quot;</span>),</span>
<span id="cb68-6"><a href="benchmarking.html#cb68-6"></a>  <span class="kw">msr</span>(<span class="st">&quot;classif.auc&quot;</span>, <span class="dt">id =</span> <span class="st">&quot;auc_test&quot;</span>)</span>
<span id="cb68-7"><a href="benchmarking.html#cb68-7"></a>)</span>
<span id="cb68-8"><a href="benchmarking.html#cb68-8"></a>bmr<span class="op">$</span><span class="kw">aggregate</span>(measures)</span>
<span id="cb68-9"><a href="benchmarking.html#cb68-9"></a><span class="co">##    nr  resample_result       task_id          learner_id resampling_id iters</span></span>
<span id="cb68-10"><a href="benchmarking.html#cb68-10"></a><span class="co">## 1:  1 &lt;ResampleResult&gt; german_credit classif.featureless            cv     3</span></span>
<span id="cb68-11"><a href="benchmarking.html#cb68-11"></a><span class="co">## 2:  2 &lt;ResampleResult&gt; german_credit       classif.rpart            cv     3</span></span>
<span id="cb68-12"><a href="benchmarking.html#cb68-12"></a><span class="co">## 3:  3 &lt;ResampleResult&gt; german_credit      classif.ranger            cv     3</span></span>
<span id="cb68-13"><a href="benchmarking.html#cb68-13"></a><span class="co">## 4:  4 &lt;ResampleResult&gt; german_credit        classif.kknn            cv     3</span></span>
<span id="cb68-14"><a href="benchmarking.html#cb68-14"></a><span class="co">## 5:  5 &lt;ResampleResult&gt;         sonar classif.featureless            cv     3</span></span>
<span id="cb68-15"><a href="benchmarking.html#cb68-15"></a><span class="co">## 6:  6 &lt;ResampleResult&gt;         sonar       classif.rpart            cv     3</span></span>
<span id="cb68-16"><a href="benchmarking.html#cb68-16"></a><span class="co">## 7:  7 &lt;ResampleResult&gt;         sonar      classif.ranger            cv     3</span></span>
<span id="cb68-17"><a href="benchmarking.html#cb68-17"></a><span class="co">## 8:  8 &lt;ResampleResult&gt;         sonar        classif.kknn            cv     3</span></span>
<span id="cb68-18"><a href="benchmarking.html#cb68-18"></a><span class="co">##    auc_train auc_test</span></span>
<span id="cb68-19"><a href="benchmarking.html#cb68-19"></a><span class="co">## 1:    0.5000   0.5000</span></span>
<span id="cb68-20"><a href="benchmarking.html#cb68-20"></a><span class="co">## 2:    0.8084   0.7085</span></span>
<span id="cb68-21"><a href="benchmarking.html#cb68-21"></a><span class="co">## 3:    0.9983   0.8022</span></span>
<span id="cb68-22"><a href="benchmarking.html#cb68-22"></a><span class="co">## 4:    0.9879   0.7381</span></span>
<span id="cb68-23"><a href="benchmarking.html#cb68-23"></a><span class="co">## 5:    0.5000   0.5000</span></span>
<span id="cb68-24"><a href="benchmarking.html#cb68-24"></a><span class="co">## 6:    0.9369   0.7450</span></span>
<span id="cb68-25"><a href="benchmarking.html#cb68-25"></a><span class="co">## 7:    1.0000   0.9089</span></span>
<span id="cb68-26"><a href="benchmarking.html#cb68-26"></a><span class="co">## 8:    0.9976   0.9326</span></span></code></pre></div>
<p>Subsequently, we can aggregate the results further.
For example, we might be interested which learner performed best over all tasks simultaneously.
Simply aggregating the performances with the mean is usually not statistically sound.
Instead, we calculate the rank statistic for each learner grouped by task.
Then the calculated ranks grouped by learner are aggregated.
Since the AUC needs to be maximized, we multiply with <span class="math inline">\(-1\)</span> so that the best learner gets a rank of 1.</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="benchmarking.html#cb69-1"></a>tab =<span class="st"> </span>bmr<span class="op">$</span><span class="kw">aggregate</span>(measures)</span>
<span id="cb69-2"><a href="benchmarking.html#cb69-2"></a>ranks =<span class="st"> </span>tab[, .(learner_id, <span class="dt">rank_train =</span> <span class="kw">rank</span>(<span class="op">-</span>auc_train), <span class="dt">rank_test =</span> <span class="kw">rank</span>(<span class="op">-</span>auc_test)), by =<span class="st"> </span>task_id]</span>
<span id="cb69-3"><a href="benchmarking.html#cb69-3"></a><span class="kw">print</span>(ranks)</span>
<span id="cb69-4"><a href="benchmarking.html#cb69-4"></a><span class="co">##          task_id          learner_id rank_train rank_test</span></span>
<span id="cb69-5"><a href="benchmarking.html#cb69-5"></a><span class="co">## 1: german_credit classif.featureless          4         4</span></span>
<span id="cb69-6"><a href="benchmarking.html#cb69-6"></a><span class="co">## 2: german_credit       classif.rpart          3         3</span></span>
<span id="cb69-7"><a href="benchmarking.html#cb69-7"></a><span class="co">## 3: german_credit      classif.ranger          1         1</span></span>
<span id="cb69-8"><a href="benchmarking.html#cb69-8"></a><span class="co">## 4: german_credit        classif.kknn          2         2</span></span>
<span id="cb69-9"><a href="benchmarking.html#cb69-9"></a><span class="co">## 5:         sonar classif.featureless          4         4</span></span>
<span id="cb69-10"><a href="benchmarking.html#cb69-10"></a><span class="co">## 6:         sonar       classif.rpart          3         3</span></span>
<span id="cb69-11"><a href="benchmarking.html#cb69-11"></a><span class="co">## 7:         sonar      classif.ranger          1         2</span></span>
<span id="cb69-12"><a href="benchmarking.html#cb69-12"></a><span class="co">## 8:         sonar        classif.kknn          2         1</span></span>
<span id="cb69-13"><a href="benchmarking.html#cb69-13"></a></span>
<span id="cb69-14"><a href="benchmarking.html#cb69-14"></a>ranks[, .(<span class="dt">mrank_train =</span> <span class="kw">mean</span>(rank_train), <span class="dt">mrank_test =</span> <span class="kw">mean</span>(rank_test)), by =<span class="st"> </span>learner_id][<span class="kw">order</span>(mrank_test)]</span>
<span id="cb69-15"><a href="benchmarking.html#cb69-15"></a><span class="co">##             learner_id mrank_train mrank_test</span></span>
<span id="cb69-16"><a href="benchmarking.html#cb69-16"></a><span class="co">## 1:      classif.ranger           1        1.5</span></span>
<span id="cb69-17"><a href="benchmarking.html#cb69-17"></a><span class="co">## 2:        classif.kknn           2        1.5</span></span>
<span id="cb69-18"><a href="benchmarking.html#cb69-18"></a><span class="co">## 3:       classif.rpart           3        3.0</span></span>
<span id="cb69-19"><a href="benchmarking.html#cb69-19"></a><span class="co">## 4: classif.featureless           4        4.0</span></span></code></pre></div>
<p>Unsurprisingly, the featureless learner is outperformed.</p>
</div>
<div id="autoplot-benchmarkresult" class="section level3">
<h3><span class="header-section-number">2.6.3</span> Plotting Benchmark Results</h3>
<p>Analogously to plotting <a href="tasks.html#autoplot-task">tasks</a>, <a href="train-predict.html#autoplot-prediction">predictions</a> or <a href="resampling.html#autoplot-resampleresult">resample results</a>, <a href="https://mlr3viz.mlr-org.com">mlr3viz</a> also provides a <a href="https://www.rdocumentation.org/packages/ggplot2/topics/autoplot"><code>autoplot()</code></a> method for benchmark results.</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="benchmarking.html#cb70-1"></a><span class="kw">library</span>(mlr3viz)</span>
<span id="cb70-2"><a href="benchmarking.html#cb70-2"></a><span class="kw">library</span>(ggplot2)</span>
<span id="cb70-3"><a href="benchmarking.html#cb70-3"></a></span>
<span id="cb70-4"><a href="benchmarking.html#cb70-4"></a><span class="kw">autoplot</span>(bmr) <span class="op">+</span><span class="st"> </span><span class="kw">theme</span>(<span class="dt">axis.text.x =</span> <span class="kw">element_text</span>(<span class="dt">angle =</span> <span class="dv">45</span>, <span class="dt">hjust =</span> <span class="dv">1</span>))</span></code></pre></div>
<p><img src="mlr3book_files/figure-html/02-basics-066-1.svg" width="672" />
We can also plot ROC curves.
To do so, we first need to filter the <a href="https://mlr3.mlr-org.com/reference/BenchmarkResult.html"><code>BenchmarkResult</code></a> to only contain a single <a href="https://mlr3.mlr-org.com/reference/Task.html"><code>Task</code></a>:</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="benchmarking.html#cb71-1"></a><span class="kw">autoplot</span>(bmr<span class="op">$</span><span class="kw">clone</span>()<span class="op">$</span><span class="kw">filter</span>(<span class="dt">task_id =</span> <span class="st">&quot;german_credit&quot;</span>), <span class="dt">type =</span> <span class="st">&quot;roc&quot;</span>)</span></code></pre></div>
<p><img src="mlr3book_files/figure-html/unnamed-chunk-1-1.svg" width="672" /></p>
<p>All available types are listed on the manual page of <a href="https://mlr3viz.mlr-org.com/reference/autoplot.BenchmarkResult.html"><code>autoplot.BenchmarkResult()</code></a>.</p>
</div>
<div id="bm-resamp" class="section level3">
<h3><span class="header-section-number">2.6.4</span> Extracting ResampleResults</h3>
<p>A <a href="https://mlr3.mlr-org.com/reference/BenchmarkResult.html"><code>BenchmarkResult</code></a> object is essentially a collection of multiple <a href="https://mlr3.mlr-org.com/reference/ResampleResult.html"><code>ResampleResult</code></a> objects.
As these are stored in a column of the aggregated <code>data.table()</code>, we can easily extract them:</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="benchmarking.html#cb72-1"></a>tab =<span class="st"> </span>bmr<span class="op">$</span><span class="kw">aggregate</span>(measures)</span>
<span id="cb72-2"><a href="benchmarking.html#cb72-2"></a>rr =<span class="st"> </span>tab[task_id <span class="op">==</span><span class="st"> &quot;sonar&quot;</span> <span class="op">&amp;</span><span class="st"> </span>learner_id <span class="op">==</span><span class="st"> &quot;classif.ranger&quot;</span>]<span class="op">$</span>resample_result[[<span class="dv">1</span>]]</span>
<span id="cb72-3"><a href="benchmarking.html#cb72-3"></a><span class="kw">print</span>(rr)</span>
<span id="cb72-4"><a href="benchmarking.html#cb72-4"></a><span class="co">## &lt;ResampleResult&gt; of 3 iterations</span></span>
<span id="cb72-5"><a href="benchmarking.html#cb72-5"></a><span class="co">## * Task: sonar</span></span>
<span id="cb72-6"><a href="benchmarking.html#cb72-6"></a><span class="co">## * Learner: classif.ranger</span></span>
<span id="cb72-7"><a href="benchmarking.html#cb72-7"></a><span class="co">## * Warnings: 0 in 0 iterations</span></span>
<span id="cb72-8"><a href="benchmarking.html#cb72-8"></a><span class="co">## * Errors: 0 in 0 iterations</span></span></code></pre></div>
<p>We can now investigate this resampling and even single resampling iterations using one of the approach shown in <a href="benchmarking.html#bm-exec">the previous section</a>:</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="benchmarking.html#cb73-1"></a>measure =<span class="st"> </span><span class="kw">msr</span>(<span class="st">&quot;classif.auc&quot;</span>)</span>
<span id="cb73-2"><a href="benchmarking.html#cb73-2"></a>rr<span class="op">$</span><span class="kw">aggregate</span>(measure)</span>
<span id="cb73-3"><a href="benchmarking.html#cb73-3"></a><span class="co">## classif.auc </span></span>
<span id="cb73-4"><a href="benchmarking.html#cb73-4"></a><span class="co">##      0.9089</span></span>
<span id="cb73-5"><a href="benchmarking.html#cb73-5"></a></span>
<span id="cb73-6"><a href="benchmarking.html#cb73-6"></a><span class="co"># get the iteration with worst AUC</span></span>
<span id="cb73-7"><a href="benchmarking.html#cb73-7"></a>perf =<span class="st"> </span>rr<span class="op">$</span><span class="kw">score</span>(measure)</span>
<span id="cb73-8"><a href="benchmarking.html#cb73-8"></a>i =<span class="st"> </span><span class="kw">which.min</span>(perf<span class="op">$</span>classif.auc)</span>
<span id="cb73-9"><a href="benchmarking.html#cb73-9"></a></span>
<span id="cb73-10"><a href="benchmarking.html#cb73-10"></a><span class="co"># get the corresponding learner and train set</span></span>
<span id="cb73-11"><a href="benchmarking.html#cb73-11"></a><span class="kw">print</span>(rr<span class="op">$</span>learners[[i]])</span>
<span id="cb73-12"><a href="benchmarking.html#cb73-12"></a><span class="co">## &lt;LearnerClassifRanger:classif.ranger&gt;</span></span>
<span id="cb73-13"><a href="benchmarking.html#cb73-13"></a><span class="co">## * Model: -</span></span>
<span id="cb73-14"><a href="benchmarking.html#cb73-14"></a><span class="co">## * Parameters: list()</span></span>
<span id="cb73-15"><a href="benchmarking.html#cb73-15"></a><span class="co">## * Packages: ranger</span></span>
<span id="cb73-16"><a href="benchmarking.html#cb73-16"></a><span class="co">## * Predict Type: prob</span></span>
<span id="cb73-17"><a href="benchmarking.html#cb73-17"></a><span class="co">## * Feature types: logical, integer, numeric, character, factor, ordered</span></span>
<span id="cb73-18"><a href="benchmarking.html#cb73-18"></a><span class="co">## * Properties: importance, multiclass, oob_error, twoclass, weights</span></span>
<span id="cb73-19"><a href="benchmarking.html#cb73-19"></a><span class="kw">head</span>(rr<span class="op">$</span>resampling<span class="op">$</span><span class="kw">train_set</span>(i))</span>
<span id="cb73-20"><a href="benchmarking.html#cb73-20"></a><span class="co">## [1]  4  7  9 13 14 15</span></span></code></pre></div>
</div>
<div id="converting-and-merging-resampleresults" class="section level3">
<h3><span class="header-section-number">2.6.5</span> Converting and Merging ResampleResults</h3>
<p>It is also possible to cast a single <a href="https://mlr3.mlr-org.com/reference/ResampleResult.html"><code>ResampleResult</code></a> to a <a href="https://mlr3.mlr-org.com/reference/BenchmarkResult.html"><code>BenchmarkResult</code></a> using the converter <a href="https://mlr3.mlr-org.com/reference/as_benchmark_result.html"><code>as_benchmark_result()</code></a>.</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="benchmarking.html#cb74-1"></a>task =<span class="st"> </span><span class="kw">tsk</span>(<span class="st">&quot;iris&quot;</span>)</span>
<span id="cb74-2"><a href="benchmarking.html#cb74-2"></a>resampling =<span class="st"> </span><span class="kw">rsmp</span>(<span class="st">&quot;holdout&quot;</span>)<span class="op">$</span><span class="kw">instantiate</span>(task)</span>
<span id="cb74-3"><a href="benchmarking.html#cb74-3"></a></span>
<span id="cb74-4"><a href="benchmarking.html#cb74-4"></a>rr1 =<span class="st"> </span><span class="kw">resample</span>(task, <span class="kw">lrn</span>(<span class="st">&quot;classif.rpart&quot;</span>), resampling)</span>
<span id="cb74-5"><a href="benchmarking.html#cb74-5"></a>rr2 =<span class="st"> </span><span class="kw">resample</span>(task, <span class="kw">lrn</span>(<span class="st">&quot;classif.featureless&quot;</span>), resampling)</span>
<span id="cb74-6"><a href="benchmarking.html#cb74-6"></a></span>
<span id="cb74-7"><a href="benchmarking.html#cb74-7"></a><span class="co"># Cast both ResampleResults to BenchmarkResults</span></span>
<span id="cb74-8"><a href="benchmarking.html#cb74-8"></a>bmr1 =<span class="st"> </span><span class="kw">as_benchmark_result</span>(rr1)</span>
<span id="cb74-9"><a href="benchmarking.html#cb74-9"></a>bmr2 =<span class="st"> </span><span class="kw">as_benchmark_result</span>(rr2)</span>
<span id="cb74-10"><a href="benchmarking.html#cb74-10"></a></span>
<span id="cb74-11"><a href="benchmarking.html#cb74-11"></a><span class="co"># Merge 2nd BMR into the first BMR</span></span>
<span id="cb74-12"><a href="benchmarking.html#cb74-12"></a>bmr1<span class="op">$</span><span class="kw">combine</span>(bmr2)</span>
<span id="cb74-13"><a href="benchmarking.html#cb74-13"></a></span>
<span id="cb74-14"><a href="benchmarking.html#cb74-14"></a>bmr1</span>
<span id="cb74-15"><a href="benchmarking.html#cb74-15"></a><span class="co">## &lt;BenchmarkResult&gt; of 2 rows with 2 resampling runs</span></span>
<span id="cb74-16"><a href="benchmarking.html#cb74-16"></a><span class="co">##  nr task_id          learner_id resampling_id iters warnings errors</span></span>
<span id="cb74-17"><a href="benchmarking.html#cb74-17"></a><span class="co">##   1    iris       classif.rpart       holdout     1        0      0</span></span>
<span id="cb74-18"><a href="benchmarking.html#cb74-18"></a><span class="co">##   2    iris classif.featureless       holdout     1        0      0</span></span></code></pre></div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="resampling.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="binary.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/mlr-org/mlr3book/edit/master/bookdown/02-basics.Rmd",
"text": "Edit this chapter"
},
"history": {
"link": "https://github.com/mlr-org/mlr3book/commits/master/02-basics.Rmd",
"text": "Edit history"
},
"view": {
"link": null,
"text": null
},
"download": {},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
